<!DOCTYPE html>
<html  
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Pizza Cloud</title>
</head>
<body>
	<h1>Welcome to...</h1>
	<img th:src="@{/images/pizza.png}" />
	
	<form method="POST" th:action="@{/orders}" th:object="${pizzaOrder}">
		
		<h3>Your orders</h3>
		<a th:href="@{/design}">Design another pizza</a>
		
		<ul>
			<li th:each="pizza : ${pizzaOrder.pizzas}">
				<span th:text="${pizza.name}">pizza name</span>
			</li>
		</ul>
		
		<div th:if="${#fields.hasErrors()}">
			<span>Please correct the problems and resubmit</span>
		</div>
		
		<label for="deliveryName">Name: </label>
		<input type="text" th:field="*{deliveryName}" />
		<span th:if="${#fields.hasErrors('deliveryName')}" 
			th:errors="*{deliveryName}">Name error</span>
		
		<br/>
		
		<label for="deliveryStreet">Street address: </label>
		<input type="text" th:field="*{deliveryStreet}" />
		<span th:if="${#fields.hasErrors('deliveryStreet')}" 
			th:errors="*{deliveryStreet}">Street error</span>
		<br/>
		
		<label for="ccNumber">Credit card: </label>
		<input type="text" th:field="*{ccNumber}" />
		<br/>
		
		<label for="ccExpiration">Expiration: </label>
		<input type="text" th:field="*{ccExpiration}" />
		<span th:if="${#fields.hasErrors('ccExpiration')}" 
			th:errors="*{ccExpiration}">Expiration error</span>
		<br/>
		
		<label for="ccCVV">CVV: </label>
		<input type="text" th:field="*{ccCVV}" />
		<span th:if="${#fields.hasErrors('ccCVV')}" 
			th:errors="*{ccCVV}">CC Num error</span>
		<br/>
		
		<input type="submit" value="Submit Order" />
	
	</form>
</body>
</html>